<app-navbar></app-navbar>

<div
  class="d-flex flex-column bg-light background-color align-items-center justify-content-center text-center vh-100"
>
  <div *ngIf="isLoginFail" class="alert alert-danger">
    {{ errorMsg }}
  </div>

  <form [formGroup]="loginForm" class="vw-50" (ngSubmit)="onSubmit($event)">
    <div class="mb-3">
      <label for="username" class="form-label fs-4">Usuario</label>
      <input
        (ngModelChange)="inputChange()"
        [(ngModel)]="username"
        type="username"
        class="form-control"
        id="username"
        formControlName="username"
      />
      <div
        *ngIf="loginForm.get('username')?.touched && loginForm.get('username')?.errors?.['required']"
        class="alert alert-danger p-1 m-1"
      >
        Este campo no puede estar vacío.
      </div>
    </div>
    <div class="mb-3">
      <label for="password" class="form-label fs-4">Password</label>
      <input
        (ngModelChange)="inputChange()"
        [(ngModel)]="password"
        formControlName="password"
        type="password"
        class="form-control"
        id="password"
      />
      <div
        *ngIf="loginForm.get('password')?.touched && loginForm.get('password')?.errors?.['required']"
        class="p-1 m-1 alert alert-danger"
      >
        Este campo no puede estar vacío.
      </div>
    </div>
    <div class="d-flex flex-column align-items-center">
      <button
        [disabled]="!loginForm.valid"
        type="submit"
        class="m-2 btn btn-primary bg-gradient btn-lg"
      >
        Log in
      </button>
      <a routerLink="/" class="m-2 btn btn-primary bg-gradient btn"> Back </a>
    </div>
  </form>
</div>
